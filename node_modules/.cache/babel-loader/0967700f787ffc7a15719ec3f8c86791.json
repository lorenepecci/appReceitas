{"ast":null,"code":"var _jsxFileName = \"/home/lorene/Trybe/MeusProjetosPessoais/appReceitas/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const {\n    userInfos,\n    setUserInfos,\n    loginButtonDissabled,\n    setLoginButtonDissabled\n  } = useContext(Context);\n  const history = useHistory();\n\n  const validadeForm = () => {\n    const {\n      email,\n      password\n    } = userInfos;\n    const emailRegex = /^[\\w+.]+@\\w+\\.\\w{2,}(?:\\.\\w{2})?$/i;\n    const minPasswordLenght = 5;\n\n    if (emailRegex.test(email) && password.length > minPasswordLenght) {\n      setLoginButtonDissabled(false);\n    }\n  };\n\n  const handleChange = _ref => {\n    let {\n      target\n    } = _ref;\n    const {\n      name,\n      value\n    } = target;\n    setUserInfos(prevState => ({ ...prevState,\n      [name]: value\n    }));\n    validadeForm();\n  };\n\n  const handleClick = event => {\n    event.preventDefault();\n    const {\n      email\n    } = userInfos;\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({\n      email\n    }));\n    history.push('/foods');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"email\",\n      children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        \"data-testid\": \"email-input\",\n        name: \"email\",\n        id: \"email\",\n        value: userInfos.email,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"password\",\n      children: [\"Senha:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        \"data-testid\": \"password-input\",\n        name: \"password\",\n        id: \"password\",\n        value: userInfos.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-testid\": \"login-submit-btn\",\n      type: \"submit\",\n      disabled: loginButtonDissabled,\n      onClick: handleClick,\n      children: \"Enter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"YVCImNWsW362fFKRZAqOJQHg2T8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/lorene/Trybe/MeusProjetosPessoais/appReceitas/src/pages/Login.js"],"names":["React","useContext","useHistory","Context","Login","userInfos","setUserInfos","loginButtonDissabled","setLoginButtonDissabled","history","validadeForm","email","password","emailRegex","minPasswordLenght","test","length","handleChange","target","name","value","prevState","handleClick","event","preventDefault","localStorage","setItem","JSON","stringify","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,OAAP,MAAoB,oBAApB;;AAEA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAC9B,QAAM;AACJC,IAAAA,SADI;AAEJC,IAAAA,YAFI;AAGJC,IAAAA,oBAHI;AAIJC,IAAAA;AAJI,MAKFP,UAAU,CAACE,OAAD,CALd;AAOA,QAAMM,OAAO,GAAGP,UAAU,EAA1B;;AAEA,QAAMQ,YAAY,GAAG,MAAM;AACzB,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAAsBP,SAA5B;AACA,UAAMQ,UAAU,GAAG,oCAAnB;AACA,UAAMC,iBAAiB,GAAG,CAA1B;;AACA,QAAID,UAAU,CAACE,IAAX,CAAgBJ,KAAhB,KAA0BC,QAAQ,CAACI,MAAT,GAAkBF,iBAAhD,EAAmE;AACjEN,MAAAA,uBAAuB,CAAC,KAAD,CAAvB;AACD;AACF,GAPD;;AASA,QAAMS,YAAY,GAAG,QAAgB;AAAA,QAAf;AAAEC,MAAAA;AAAF,KAAe;AACnC,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,MAAxB;AACAZ,IAAAA,YAAY,CAAEe,SAAD,KAAgB,EAC3B,GAAGA,SADwB;AAE3B,OAACF,IAAD,GAAQC;AAFmB,KAAhB,CAAD,CAAZ;AAIAV,IAAAA,YAAY;AACb,GAPD;;AASA,QAAMY,WAAW,GAAIC,KAAD,IAAW;AAC7BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAM;AAAEb,MAAAA;AAAF,QAAYN,SAAlB;AACAoB,IAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,CAAnC;AACAD,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuC,CAAvC;AACAD,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe;AAAEjB,MAAAA;AAAF,KAAf,CAA7B;AACAF,IAAAA,OAAO,CAACoB,IAAR,CAAa,QAAb;AACD,GAPD;;AASA,sBACE;AAAA,4BACE;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA,wCAEE;AACE,QAAA,IAAI,EAAC,OADP;AAEE,uBAAY,aAFd;AAGE,QAAA,IAAI,EAAC,OAHP;AAIE,QAAA,EAAE,EAAC,OAJL;AAKE,QAAA,KAAK,EAAGxB,SAAS,CAACM,KALpB;AAME,QAAA,QAAQ,EAAGM;AANb;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAYE;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA,wCAEE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,uBAAY,gBAFd;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,EAAE,EAAC,UAJL;AAKE,QAAA,KAAK,EAAGZ,SAAS,CAACO,QALpB;AAME,QAAA,QAAQ,EAAGK;AANb;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAZF,eAuBE;AACE,qBAAY,kBADd;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,QAAQ,EAAGV,oBAHb;AAIE,MAAA,OAAO,EAAGe,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD;;GAvEuBlB,K;UAQNF,U;;;KARME,K","sourcesContent":["import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\n\nexport default function Login() {\n  const {\n    userInfos,\n    setUserInfos,\n    loginButtonDissabled,\n    setLoginButtonDissabled,\n  } = useContext(Context);\n\n  const history = useHistory();\n\n  const validadeForm = () => {\n    const { email, password } = userInfos;\n    const emailRegex = /^[\\w+.]+@\\w+\\.\\w{2,}(?:\\.\\w{2})?$/i;\n    const minPasswordLenght = 5;\n    if (emailRegex.test(email) && password.length > minPasswordLenght) {\n      setLoginButtonDissabled(false);\n    }\n  };\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setUserInfos((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n    validadeForm();\n  };\n\n  const handleClick = (event) => {\n    event.preventDefault();\n    const { email } = userInfos;\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({ email }));\n    history.push('/foods');\n  };\n\n  return (\n    <form>\n      <label htmlFor=\"email\">\n        Email:\n        <input\n          type=\"email\"\n          data-testid=\"email-input\"\n          name=\"email\"\n          id=\"email\"\n          value={ userInfos.email }\n          onChange={ handleChange }\n        />\n      </label>\n      <label htmlFor=\"password\">\n        Senha:\n        <input\n          type=\"password\"\n          data-testid=\"password-input\"\n          name=\"password\"\n          id=\"password\"\n          value={ userInfos.password }\n          onChange={ handleChange }\n        />\n      </label>\n      <button\n        data-testid=\"login-submit-btn\"\n        type=\"submit\"\n        disabled={ loginButtonDissabled }\n        onClick={ handleClick }\n      >\n        Enter\n      </button>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}